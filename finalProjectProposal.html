<!DOCTYPE html>
<html>
    <head>
        <title>Team 1 Final Project Proposal</title>
        <style>table, th, td{
            border: 1px solid black;
        }</style>
    </head>
    <body>
        <h1>PackageMat</h1>
        <h2>A 6.08 project by Madison Wong, Michael Iglesias, Claire Bao, and Ye Cheng Zheng</h2>
        <h3>Overview</h3>
        <p>Online orders have become an increasing part of modern commerce, so much focus is placed on ensuring that customers receive their deliveries. 
            Delivery firms, especially, use barcodes and scanners to track packages en-route, allowing customers to know the real-time status of their packages. 
            However, upon arrival at their destination, the responsibility of the package is placed on the customer. If the packages cannot be picked up 
            immediately, they will be susceptible to theft. This lack of security on the receiving end is not only a problem for customers, but also sellers,
            who may have to replace or refund missing items. <p>

        <p>To address this problem, we propose Package Mat (PackMat), a security system to monitor delivered packages. PackMat consists of two main 
            components - a physical mat and a web interface. Once a package is delivered, the delivery driver will place the package on the mat and 
            enter a key into the matâ€™s keypad. The key, which will be stored on the server and is visible on the web interface, must be entered again 
            before removing the package. If the package is moved with a missing or incorrect key, an alarm would immediately sound and the web interface will 
            update, notifying the user of the issue. As a result, while PackMat would not completely prevent theft, it discourages it by alarming the package 
            thief as well as providing a monitoring system for users.</p>

        <h3>Intended Functionality</h3>
        <p>There are several different components in our design that we hope to integrate for the intended functionality of a secure package security system. 
            First, there is the physical package mat or area where the package would lay. Once pressure increases on the mat, the system enters confirmation. 
            If there is not a new package, it returns to the restful state, otherwise it gives the user the opportunity to enter in a code to secure their 
            package through the website. If the pressure changes at any point, an alarm will sound and will alert the user about the possibility of their 
            package being stolen. The only way to turn off the alarm is to enter in the correct password on the package mat or through the website. 
            If the code is entered correctly, the alarms turns off. The user can also enter in the passcode on the package mat when they pick up their 
            package to avoid the alarm. This entire system is described concisely in the system block and state machine diagrams below.</p>

        <h3>System Block Diagram</h3>
        <img src = "System_Block_Diagram_6.08.jpg">

        <h3>State Machine</h3>
        <img src = "State_Maching_6.08_Project.jpg">
        
        <h3>Technical Challenges</h3>
        <h4>Website:</h4>
        <ul>
            <li><p>May need to implement security/ login functionality, since a public site allows pass codes to be viewable by anybody</p></li>
            <ul>
                <li><p>Might need cookies to maintain login status when refreshing page / moving to different page</p></li>
                <li><p>Can compromise with individual proof-of-concept public page if not possible on the 6.08 dev server</p></li>
            </ul>
        </ul>
        
        <h4>Server:</h4>
        <ul>
            <li><p>Might need to agree on some request formats / protocols ahead of time, otherwise changing and editing them will be difficult to manage later on as more code is added.</p></li>
        </ul>
       

        <h3>Parts List</h3>
        <table>
            <tr>
                <th>Description</th>
                <th>Item Number</th>
                <th>Vendor</th>
                <th>Price</th>
            </tr>
            <tr>
                <th>Solderable Breadboard https://www.adafruit.com/product/1606 </th>
                <th>1606</th>
                <th>Adafruit</th>
                <th>$6.95</th>
            </tr>
            <tr>
                <th>3x4 Number Pad: https://www.adafruit.com/product/419?gclid=CjwKCAjwi6WSBhA-EiwA6Niok7_ik9O5mUpQZAu8cVJi6zW27UNA665ET1Sop1D6nTW__4h9YBZazhoC5d8QAvD_BwE </th>
                <th>419</th>
                <th>Adafruit</th>
                <th>$3.95</th>
            </tr>
            <tr>
                <th>Load Cell Amplifier: https://www.sparkfun.com/products/13879?_ga=2.228677528.507380733.1648994760-989291874.1648994760
                     </th>
                <th>SEN-13879 ROHS</th>
                <th>Sparkfun</th>
                <th>$10.95</th>
            </tr>
            <tr>
                <th>Load Bar : Load Bar
                    https://www.digikey.com/en/products/detail/sparkfun-electronics/SEN-13329/7393715?utm_adgroup=Essen%20Deinki&utm_source=google&utm_medium=cpc&utm_campaign=Shopping_DK%2BSupplier_Other&utm_term=&utm_content=Essen%20Deinki&gclid=CjwKCAjwopWSBhB6EiwAjxmqDQgLsycx7yv0-HFdoNg3CouJxvCaUGPRKjRcCUQiao7flplv4pJrIhoCor0QAvD_BwE
                    </th>
                <th>SEN-13329</th>
                <th>digikey</th>
                <th>$8.50</th>
            </tr>
        </table>


        <h3>Demos and Milestones</h3>
        <table>
            <tr>
                <th></th>
                <th colspan="2">Claire</th>
                <th colspan="2">Ye Cheng</th>
                <th colspan="2">Madison</th>
            </tr>
            <tr>
                <th></th>
                <th>Milestone</th>
                <th>Demo</th>
                <th>Milestone</th>
                <th>Demo</th>
                <th>Milestone</th>
                <th>Demo</th>
            </tr>
            <tr>
                <th>Week 1 </th>
                <!--Claire-->
                <td>Wire number pad and alarm and build 2 functions in Arduino: one that builds passcode and one that sounds an alarm</td>
                <td>Show that when sequence is entered into number pad and matches hard-coded numbers, alarm will sound for 5 seconds</td>
                <!--Ye Cheng-->
                <td>
                    <p>Server: Persistent storage and requests for getting / posting pass codes and alarm status</p>
                    <p>Website: Barebones site that updates passcode and alarm status according to PackMat status</p>
                </td>
                <td>
                    <p>Show passcode updating on the site when updated on ESP32 (by manually changing hard-coded passcode)</p>
                    <p>Show that website updates when alarm sounds</p>
                </td>
                <!--Madison-->
                <td>
                    Initial coding and outline of the full state machine in Arudino as described in the State Machine header.
                </td>
                <td>
                    Can test by running code and inputting print statements to check if states are changing in correct order based off simple button press.
                </td>
            </tr>
            <tr>
                <th>Week 2</th>
                <!--Claire-->
                <td>Connect the two functions so that the number pad and alarm interact the way it should</td>
                <td>When the passcode is entered correctly the alarm goes off, but if it is entered incorrectly,
                     LCD will show a message saying incorrect. Passcode will still be hard-coded </td>
                <!--Ye Cheng-->
                <td>
                    <p>Website: Site now tells the user if a package is or isn't on the mat, instead of just showing passcode.</p>
                    <p>Implement an updating list of all times alarm has gone off.</p>
                    <p>Implement UI to enter passcode and stop alarm.</p>
                </td>
                <td>
                    <p>Show that the site displays the presence of a package on mat (after the passcode is entered). </p>
                    <p>Show updating list of alarms by setting off alarms multiple times</p>
                    <p>Show that alarm stops when passcode is entered on website</p>
                </td>
                <!--Madison-->
                <td>
                    Implement pressure sensor functionality (after it has been wired) and integrate with all states that are affected by it. Examples include decrease in 
                    pressure during locked state changes state to alarm state.
                </td>
                <td>
                    Change in pressure prompts Alarm screen on LCD (and can show my print statement).
                </td>
            </tr>
            <tr>
                <th>Week 3</th>
                <!--Claire-->
                <td>Implement passcode-setting functionality</th>
                <td>Press button to set code and, for debugging purposes, print set code onto LCD screen. Then show that alarm turns off when it is correct and doesn't turn off when it isn't correct.</td>
                <!--Ye Cheng-->
                <td>
                    <p>Server: Persistent storage for accounts and GET/POST requests for logging in</p>
                    <p>Website: Implement login functionality and individual profiles.</p>
                </td>
                <td>
                    <p>Show different users logging into website, and that their respective pages update differently depending on which PackMat device is being used.</p>
                </td>
                <!--Madison-->
                <td>
                    Implement alarm and code entry functionality (after both have been wired) and integrate with states that are affected by it.
                     Examples include initial code setting with increase in pressure and turning off alarm.
                </td>
                <td>
                    Entering the correct code enters unlocked mode on screen or secure mode. Or incorrect code entries continue to stay in the alarm state. 
                    (can show entrance into states by print statements in arduino). 
                </td>
                
            </tr>
            <tr>
                <th>Week 4</th>
                <!--Claire-->
                <td>Clean up code and write http post request to webpage when alarm gets triggered</td>
                <td>Show a presentable way of FSM for alarm and numberpad working and a serial print ln of the get request being sent and the appropriate response being received</td>
                <!--Ye Cheng-->
                <td>
                    <p>CSS and final touches to the website; clean up server API</p>
                </td>
                <td>
                    <p>Display a (hopefully) nice-looking web page to interface with the PackMat hardware, which updates according to events from the ESP32 and is able to control the PackMat's security functionality</p>
                </td>
                <!--Madison-->
                <td>
                    Integrate functionalities with website so that the user can control the package map from different location.
                </td>
                <td>
                    Show that entering code from website can turn off the alarm on package mat.
                </td>
            </tr>
        </table>

        <h3>On Campus Resources</h3>
        <p>May use lab time to work on project together but not many other on campus resources will be needed.</p>

        <h3>Splitting the Work</h3>
        <p>Madison: In charge of state machine, designing the flow of system, and integration.</p>
        <p>Michael: In charge of hardware components with wiring and accessing their data/functions.</p>
        <p>Ye Cheng: In charge of the server side and web development portion of the system.</p>
        <p>Claire: In charge of coding functions of system, specifically for alarm and numberpad, as well as integration.</p>
    </body>
</html>